<!DOCTYPE html>
<html lang="en" 
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{common/layouts/defaultLayout}"
  layout:fragment="Content"
>
<head>
  <title>Position Report</title>
</head>
<body>
  <h2>Current Aircraft Positions</h2>
  <script type="text/javascript">
    window.onload = setupRefresh;
    
    function setupRefresh() {
    	setTimeout(function (){
    		 window.location = location.href;
    	}, 5000);
    	
    }
  </script>
  <div class="positionlist" th:unless="${#lists.isEmpty(currentPositions)}">
	    <table>
	        <thead>
		        <tr>
		            <th>Call Sign</th>
		            <th>Squawk</th>
		            <th>AC Reg</th>
		            <th>Flight #</th>
		            <th>Route</th>
		            <th>AC Type</th>
		            <th>Altitude</th>
		            <th>Heading</th>
		            <th>Speed</th>
		            <th>Vert Rate</th>
		            <th>Latitude</th>
		            <th>Longitude</th>
		            <th>Last Seen</th>
		            <th></th>
		        </tr>
	        </thead>
	        <tbody>
              <tr th:each="ac:${currentPositions}">
		            <td th:text="${ac.callsign}"></td>
		            <td th:text="${ac.squawk}"></td>
		            <td th:text="${ac.reg}"></td>
		            <td th:text="${ac.flightno}"></td>
		            <td th:text="${ac.route}"></td>
		            <td th:text="${ac.type}"></td>
		            <td th:text="${ac.altitude}"></td>
		            <td th:text="${ac.heading}"></td>
		            <td th:text="${ac.speed}"></td>
		            <td th:text="${ac.vertRate}"></td>
		            <td th:text="${ac.lat}"></td>
		            <td th:text="${ac.lon}"></td>
		            <td th:text="${ac.lastSeenTime}"></td>
		        </tr>
	        </tbody>
	    </table>
  
  </div>
  
</body>
</html>